<!DOCTYPE html>
<html>
<head>
  <title>Fighting Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background-color: #f2f2f2;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .game-container {
      position: relative;
      width: 400px;
      height: 400px;
      border: 2px solid #333;
      background-color: #fff;
    }

    .character {
      position: absolute;
      width: 40px;
      height: 40px;
      background-color: #333;
      transition: 0.2s;
    }

    #player1 {
      top: 50%;
      left: 10px;
      transform: translateY(-50%);
    }

    #player2 {
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
    }
  </style>
</head>
<body>
  <div class="game-container">
    <div id="player1" class="character"></div>
    <div id="player2" class="character"></div>
  </div>

  <script>
    var player1 = document.getElementById("player1");
    var player2 = document.getElementById("player2");
    var stepSize = 10;

    // Keyboard Controls
    document.addEventListener("keydown", function(event) {
      moveCharacter(event.keyCode);
    });

    function moveCharacter(keyCode) {
      // Player 1 Movement
      if (keyCode === 87) {
        // W key - move up
        moveUp(player1, stepSize);
      } else if (keyCode === 83) {
        // S key - move down
        moveDown(player1, stepSize);
      } else if (keyCode === 65) {
        // A key - move left
        moveLeft(player1, stepSize);
      } else if (keyCode === 68) {
        // D key - move right
        moveRight(player1, stepSize);
      }

      // Player 2 Movement
      if (keyCode === 38) {
        // Up arrow key - move up
        moveUp(player2, stepSize);
      } else if (keyCode === 40) {
        // Down arrow key - move down
        moveDown(player2, stepSize);
      } else if (keyCode === 37) {
        // Left arrow key - move left
        moveLeft(player2, stepSize);
      } else if (keyCode === 39) {
        // Right arrow key - move right
        moveRight(player2, stepSize);
      }
    }

    // Touch Screen Controls
    var touchControls = document.getElementById("touch-controls");
    var touchStartPos = null;

    touchControls.addEventListener("touchstart", function(event) {
      event.preventDefault();
      touchStartPos = {
        x: event.touches[0].clientX,
        y: event.touches[0].clientY
      };
    });

    touchControls.addEventListener("touchend", function(event) {
      event.preventDefault();
      var touchEndPos = {
        x: event.changedTouches[0].clientX,
        y: event.changedTouches[0].clientY
      };
      var direction = getSwipeDirection(touchStartPos, touchEndPos);

      if (direction === "up") {
        moveUp(player1, stepSize);
      } else if (direction === "down") {
        moveDown(player1, stepSize);
      } else if (direction === "left") {
        moveLeft(player1, stepSize);
      } else if (direction === "right") {
        moveRight(player1, stepSize);
      }
    });

    function getSwipeDirection(startPos, endPos) {
      var deltaX = endPos.x - startPos.x;
      var deltaY = endPos.y - startPos.y;
      var absDeltaX = Math.abs(deltaX);
      var absDeltaY = Math.abs(deltaY);
      var direction = "";

      if (absDeltaX > absDeltaY) {
        direction = deltaX > 0 ? "right" : "left";
      } else {
        direction = deltaY > 0 ? "down" : "up";
      }

      return direction;
    }

    function moveUp(element, stepSize) {
      var topPos = parseInt(element.style.top) - stepSize;
      element.style.top = topPos + "px";
    }

    function moveDown(element, stepSize) {
      var topPos = parseInt(element.style.top) + stepSize;
      element.style.top = topPos + "px";
    }

    function moveLeft(element, stepSize) {
      var leftPos = parseInt(element.style.left) - stepSize;
      element.style.left = leftPos + "px";
    }

    function moveRight(element, stepSize) {
      var leftPos = parseInt(element.style.left) + stepSize;
      element.style.left = leftPos + "px";
    }
  </script>
</body>
</html>
